# ============================================================================
# HealthTech Redefined - Backend Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control
# ============================================================================

# ============================================================================
# Environment Settings
# ============================================================================
ENVIRONMENT=development  # development, staging, production
DEBUG=true
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# ============================================================================
# Database Configuration (PostgreSQL)
# ============================================================================
DATABASE_URL=postgresql://healthtech:healthtech@localhost:5432/healthtech
# For production, use separate connection pool settings:
# DATABASE_POOL_SIZE=20
# DATABASE_MAX_OVERFLOW=30
# DATABASE_POOL_TIMEOUT=30

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_URL=redis://localhost:6379/0
# For Redis Cluster:
# REDIS_CLUSTER_NODES=redis-node1:6379,redis-node2:6379,redis-node3:6379

# ============================================================================
# Kafka Configuration (Event Streaming)
# ============================================================================
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_ENABLED=true
KAFKA_SECURITY_PROTOCOL=PLAINTEXT  # PLAINTEXT, SSL, SASL_PLAINTEXT, SASL_SSL
# KAFKA_SASL_MECHANISM=PLAIN
# KAFKA_SASL_USERNAME=
# KAFKA_SASL_PASSWORD=

# ============================================================================
# JWT & Security Configuration
# ============================================================================
JWT_SECRET_KEY=your-secret-key-change-in-production-please-use-64-char-random
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
SECRET_KEY=your_application_secret_key_for_encryption

# ============================================================================
# Service Ports
# ============================================================================
IDENTITY_SERVICE_PORT=8000
FHIR_SERVICE_PORT=8002
CONSENT_SERVICE_PORT=8003
AUTH_SERVICE_PORT=8004
SCHEDULING_SERVICE_PORT=8005
ENCOUNTER_SERVICE_PORT=8006
PRM_SERVICE_PORT=8007
SCRIBE_SERVICE_PORT=8008

# ============================================================================
# CORS Configuration
# ============================================================================
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
# For production:
# CORS_ORIGINS=https://yourdomain.com,https://app.yourdomain.com
ALLOWED_HOSTS=localhost,127.0.0.1

# ============================================================================
# Twilio (WhatsApp & SMS)
# ============================================================================
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_WHATSAPP_NUMBER=whatsapp:+14155238886

# ============================================================================
# OpenAI Configuration
# ============================================================================
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
OPENAI_MODEL=gpt-4
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# ============================================================================
# Anthropic Configuration
# ============================================================================
ANTHROPIC_API_KEY=sk-ant-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ============================================================================
# AWS S3 Storage
# ============================================================================
AWS_ACCESS_KEY_ID=AKIAxxxxxxxxxxxxx
AWS_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
AWS_REGION=us-east-1
S3_BUCKET_NAME=healthtech-media-bucket
S3_ENDPOINT_URL=  # Optional: for MinIO or S3-compatible services

# ============================================================================
# Email Configuration (SMTP)
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@yourdomain.com
SMTP_USE_TLS=true

# ============================================================================
# Monitoring & Observability
# ============================================================================
SENTRY_DSN=https://xxxxxxxx@sentry.io/xxxxxxx
PROMETHEUS_PORT=9090
GRAFANA_PASSWORD=admin

# OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=healthtech-backend

# ============================================================================
# Feature Flags
# ============================================================================
ENABLE_VECTOR_SEARCH=true
ENABLE_VOICE_AGENT=true
ENABLE_AI_INTAKE=true
ENABLE_WEBSOCKETS=true

# ============================================================================
# External Integrations
# ============================================================================
N8N_WEBHOOK_URL=https://n8n.example.com/webhook/appointment-booking

# EHR Integration (if applicable)
# EHR_API_URL=
# EHR_API_KEY=

# ============================================================================
# PM2 Specific (for deployment)
# ============================================================================
# Override Python path if needed
# PM2_PYTHON_PATH=/var/www/healthtech-backend/backend/venv/bin/python
# APP_ROOT=/var/www/healthtech-backend/backend
