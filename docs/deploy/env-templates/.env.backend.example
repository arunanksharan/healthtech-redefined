# HealthTech Backend Environment Configuration
# Copy this file to backend/.env and update values

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://healthtech:healthtech@localhost:5432/healthtech

# Connection pool settings (optional, defaults shown)
# DB_POOL_SIZE=20
# DB_MAX_OVERFLOW=10
# DB_POOL_TIMEOUT=30

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# JWT Configuration
# IMPORTANT: Change JWT_SECRET_KEY in production!
# Generate with: openssl rand -base64 32
JWT_SECRET_KEY=change-this-to-a-secure-random-string-at-least-32-chars

# JWT Algorithm (HS256 recommended)
JWT_ALGORITHM=HS256

# Token expiration
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# CACHE & SESSION (Redis)
# =============================================================================

# Redis connection string
# Format: redis://[:password]@host:port/db
REDIS_URL=redis://localhost:6379/0

# Redis with password (production)
# REDIS_URL=redis://:your-redis-password@localhost:6379/0

# =============================================================================
# MESSAGE QUEUE (Kafka)
# =============================================================================

# Kafka bootstrap servers (comma-separated)
KAFKA_BOOTSTRAP_SERVERS=localhost:9092

# Enable/disable Kafka (set to false for minimal setup)
KAFKA_ENABLED=true

# Kafka consumer group
KAFKA_CONSUMER_GROUP=healthtech-consumers

# Schema Registry URL
SCHEMA_REGISTRY_URL=http://localhost:8081

# =============================================================================
# AI & LLM SERVICES
# =============================================================================

# OpenAI API Key (required for AI features)
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# OpenAI Model (optional, defaults to gpt-4)
# OPENAI_MODEL=gpt-4

# Anthropic API Key (alternative LLM)
# ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here

# =============================================================================
# EXTERNAL COMMUNICATIONS
# =============================================================================

# Twilio (SMS/WhatsApp)
# Get from: https://console.twilio.com/
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# WhatsApp Business API (if separate from Twilio)
# WHATSAPP_API_KEY=your-whatsapp-api-key
# WHATSAPP_PHONE_NUMBER_ID=your-phone-number-id

# SendGrid (Email)
# SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxx
# SENDGRID_FROM_EMAIL=noreply@healthtech.com

# =============================================================================
# CLOUD STORAGE (AWS S3)
# =============================================================================

# AWS Credentials
AWS_ACCESS_KEY_ID=AKIAxxxxxxxxxxxxxxxxxxxx
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-east-1

# S3 Bucket for file uploads
S3_BUCKET_NAME=healthtech-media-bucket

# S3 Custom Endpoint (for S3-compatible storage like MinIO)
# S3_ENDPOINT_URL=http://localhost:9000

# =============================================================================
# VOICE & VIDEO (LiveKit)
# =============================================================================

# LiveKit Server URL
LIVEKIT_URL=wss://your-livekit.livekit.cloud

# LiveKit API Credentials
LIVEKIT_API_KEY=your-livekit-api-key
LIVEKIT_API_SECRET=your-livekit-api-secret

# =============================================================================
# WORKFLOW AUTOMATION (N8N)
# =============================================================================

# N8N Webhook URL for workflow triggers
N8N_WEBHOOK_URL=https://n8n.example.com/webhook/

# =============================================================================
# MONITORING & ERROR TRACKING
# =============================================================================

# Sentry DSN for error tracking
# Get from: https://sentry.io/
SENTRY_DSN=https://xxxxxxxx@sentry.io/xxxxxxx

# Prometheus metrics (optional)
# PROMETHEUS_ENABLED=true
# PROMETHEUS_PORT=9090

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Debug mode (disable in production!)
DEBUG=true

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log format (json, pretty)
LOG_FORMAT=pretty

# =============================================================================
# HIPAA COMPLIANCE (Production)
# =============================================================================

# Enable HIPAA compliance mode
HIPAA_MODE=false

# Audit log retention (days) - HIPAA requires 6 years (2190 days)
AUDIT_LOG_RETENTION_DAYS=2190

# PHI encryption at rest
PHI_ENCRYPTION_ENABLED=false

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable vector search (requires pgvector extension)
ENABLE_VECTOR_SEARCH=true

# Enable voice agent features
ENABLE_VOICE_AGENT=true

# Enable AI intake features
ENABLE_AI_INTAKE=true

# =============================================================================
# CORS SETTINGS
# =============================================================================

# Allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# CORS allow credentials
CORS_ALLOW_CREDENTIALS=true

# =============================================================================
# RATE LIMITING
# =============================================================================

# Rate limit (requests per minute per IP)
RATE_LIMIT_PER_MINUTE=100

# Rate limit for authenticated users
RATE_LIMIT_AUTHENTICATED=1000
