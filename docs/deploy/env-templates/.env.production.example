# HealthTech Production Environment Configuration
# SECURITY WARNING: Never commit this file with real values!
# Use environment variables or secrets management in production.

# =============================================================================
# DATABASE (Production)
# =============================================================================

# Use a managed PostgreSQL service (AWS RDS, Google Cloud SQL, etc.)
DATABASE_URL=postgresql://prm_prod:STRONG_GENERATED_PASSWORD@db-prod.region.rds.amazonaws.com:5432/healthtech_prod

# Enable SSL for database connections
DATABASE_SSL_MODE=require

# Connection pooling (use PgBouncer in production)
DB_POOL_SIZE=50
DB_MAX_OVERFLOW=20

# =============================================================================
# SECURITY (Production)
# =============================================================================

# JWT Secret - MUST be unique and secure
# Generate with: openssl rand -base64 64
JWT_SECRET_KEY=GENERATE_A_64_CHAR_RANDOM_STRING_HERE_USING_OPENSSL

JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# CACHE (Production)
# =============================================================================

# Use managed Redis (AWS ElastiCache, Redis Cloud, etc.)
REDIS_URL=redis://:REDIS_AUTH_TOKEN@redis-cluster.region.cache.amazonaws.com:6379/0

# Enable Redis TLS
REDIS_TLS=true

# =============================================================================
# MESSAGE QUEUE (Production)
# =============================================================================

# Use managed Kafka (AWS MSK, Confluent Cloud, etc.)
KAFKA_BOOTSTRAP_SERVERS=kafka-1.prod:9092,kafka-2.prod:9092,kafka-3.prod:9092
KAFKA_SECURITY_PROTOCOL=SASL_SSL
KAFKA_SASL_MECHANISM=PLAIN
KAFKA_SASL_USERNAME=kafka-user
KAFKA_SASL_PASSWORD=KAFKA_PASSWORD_HERE

KAFKA_ENABLED=true
SCHEMA_REGISTRY_URL=https://schema-registry.prod:8081

# =============================================================================
# AI SERVICES (Production)
# =============================================================================

# Use organization API keys with usage limits
OPENAI_API_KEY=sk-prod-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
OPENAI_ORG_ID=org-xxxxxxxxxxxxxxxx
OPENAI_MODEL=gpt-4

# Rate limiting for AI calls
AI_RATE_LIMIT_PER_MINUTE=100
AI_MAX_TOKENS=4096

# =============================================================================
# EXTERNAL SERVICES (Production)
# =============================================================================

# Twilio - Production credentials
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=TWILIO_AUTH_TOKEN_HERE
TWILIO_PHONE_NUMBER=+1XXXXXXXXXX

# LiveKit - Production instance
LIVEKIT_URL=wss://prod.livekit.cloud
LIVEKIT_API_KEY=LIVEKIT_API_KEY
LIVEKIT_API_SECRET=LIVEKIT_API_SECRET

# AWS - Production account
AWS_ACCESS_KEY_ID=AKIAXXXXXXXXXXXXXXXX
AWS_SECRET_ACCESS_KEY=AWS_SECRET_HERE
AWS_REGION=us-east-1
S3_BUCKET_NAME=healthtech-prod-bucket

# =============================================================================
# MONITORING (Production)
# =============================================================================

# Sentry - Production project
SENTRY_DSN=https://xxxxxxxxxxxx@sentry.io/xxxxxxx
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# DataDog (alternative/additional)
# DATADOG_API_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# DATADOG_APP_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# =============================================================================
# APPLICATION (Production)
# =============================================================================

ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=WARNING
LOG_FORMAT=json

# Base URLs
NEXT_PUBLIC_API_URL=https://api.healthtech.com
NEXT_PUBLIC_WS_URL=wss://api.healthtech.com
NEXT_PUBLIC_APP_URL=https://app.healthtech.com

# =============================================================================
# HIPAA COMPLIANCE (Required for Production)
# =============================================================================

HIPAA_MODE=true

# Audit logging - 6 years retention (2190 days)
AUDIT_LOG_RETENTION_DAYS=2190
AUDIT_LOG_DESTINATION=s3://healthtech-audit-logs/

# Encryption
PHI_ENCRYPTION_ENABLED=true
PHI_ENCRYPTION_KEY_ID=alias/healthtech-phi-key

# Access logging
ACCESS_LOG_ENABLED=true
ACCESS_LOG_INCLUDE_PHI=false

# =============================================================================
# SECURITY HEADERS (Production)
# =============================================================================

# CORS - Restrict to known domains
CORS_ORIGINS=https://app.healthtech.com,https://admin.healthtech.com

# Content Security Policy
CSP_ENABLED=true
CSP_REPORT_URI=https://sentry.io/api/xxx/security/

# =============================================================================
# RATE LIMITING (Production)
# =============================================================================

RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_AUTHENTICATED=300
RATE_LIMIT_BURST=10

# =============================================================================
# BACKUP & DISASTER RECOVERY
# =============================================================================

# Backup configuration
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=healthtech-backups

# =============================================================================
# FRONTEND PRODUCTION SETTINGS
# =============================================================================

# Feature flags
NEXT_PUBLIC_ENABLE_VOICE=true
NEXT_PUBLIC_ENABLE_AI_ASSISTANT=true
NEXT_PUBLIC_ENABLE_TELEHEALTH=true
NEXT_PUBLIC_ENABLE_OFFLINE=true

# Analytics
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX
NEXT_PUBLIC_MIXPANEL_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# =============================================================================
# SECRETS MANAGEMENT
# =============================================================================
# In production, consider using:
# - AWS Secrets Manager
# - HashiCorp Vault
# - Google Secret Manager
# - Azure Key Vault
#
# Example with AWS Secrets Manager:
# SECRET_MANAGER_REGION=us-east-1
# SECRET_MANAGER_PREFIX=healthtech/prod/
